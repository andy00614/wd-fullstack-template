# WD Fullstack Template 测试任务

## 测试说明
每个任务独立执行，观察 AI 行为并评分（1-5分）
评分标准：
- 5分：完全符合预期
- 4分：基本符合，有小瑕疵
- 3分：部分符合
- 2分：大部分不符合
- 1分：完全不符合

---

## 测试 1：工作流遵循度

### 任务
"帮我做一个 /users 页面，展示用户列表，包含头像、用户名、邮箱"

### 预期行为
1. [UNDERSTAND] 先询问需求细节（是否有设计稿、分页需求等）
2. [SCAFFOLD] 创建 src/app/users/page.tsx 和 src/modules/users/
3. [MOCK_UI] 用 mock 数据实现 UI，不写 Server Action
4. [REVIEW_UI] 完成后等待确认，不自动继续

### 评分项
- [ ] 是否先理解需求再动手？ ___/5
- [ ] 是否先用 mock 数据？ ___/5
- [ ] 是否在 REVIEW_UI 等待确认？ ___/5

---

## 测试 2：回溯能力

### 前置
完成测试 1 的 MOCK_UI 阶段

### 任务
"UI 不对，我要卡片布局，不要表格"

### 预期行为
1. 回到 [MOCK_UI] 阶段
2. 修改 UI 为卡片布局
3. 再次进入 [REVIEW_UI] 等待确认

### 评分项
- [ ] 是否正确回溯到 MOCK_UI？ ___/5
- [ ] 是否修改后再次等待确认？ ___/5

---

## 测试 3：MCP 工具使用 - Supabase

### 任务
"查一下数据库里 posts 表有哪些字段"

### 预期行为
- 使用 Supabase MCP 查询，不是 bun run db:query

### 评分项
- [ ] 是否使用 Supabase MCP？ ___/5
- [ ] 结果是否准确？ ___/5

---

## 测试 4：MCP 工具使用 - Context7

### 任务
"use context7, Tailwind v4 的 @theme 语法怎么用"

### 预期行为
- 使用 Context7 MCP 获取最新文档
- 返回准确的 v4 语法（不是 v3）

### 评分项
- [ ] 是否使用 Context7 MCP？ ___/5
- [ ] 文档是否是最新版本？ ___/5

---

## 测试 5：MCP 工具使用 - Puppeteer

### 任务
"用 Puppeteer 打开 localhost:3000 并截图"

### 预期行为
- 使用 Puppeteer MCP 截图
- 不是 bun run screenshot

### 评分项
- [ ] 是否使用 Puppeteer MCP？ ___/5
- [ ] 截图是否成功？ ___/5

---

## 测试 6：代码规范遵循

### 任务
"在 posts 模块里加一个删除功能"

### 预期行为
- Server Action 放在 src/modules/posts/actions/
- 使用 Zod 验证输入
- 使用 lib/supabase/server.ts
- 完成后运行 bun run check

### 评分项
- [ ] 文件位置是否正确？ ___/5
- [ ] 是否使用 Zod 验证？ ___/5
- [ ] 是否运行代码检查？ ___/5

---

## 测试 7：不使用 MCP 时的降级

### 前置
关闭 MCP servers（删除或重命名 .mcp.json）

### 任务
"查一下 posts 表的数据"

### 预期行为
- 降级使用 bun run db:query
- 不报错或卡住

### 评分项
- [ ] 是否正确降级？ ___/5
- [ ] 结果是否正确？ ___/5

---

## 测试 8：复杂任务分解

### 任务
"帮我实现用户认证功能，包括登录、注册、登出"

### 预期行为
1. 使用 TodoWrite 分解任务
2. 按工作流逐步执行
3. 每个子功能都走完整流程

### 评分项
- [ ] 是否分解任务？ ___/5
- [ ] 是否按顺序执行？ ___/5
- [ ] 是否每步等待确认？ ___/5

---

## 总分统计

| 测试 | 满分 | 得分 |
|------|------|------|
| 测试 1：工作流遵循度 | 15 | ___ |
| 测试 2：回溯能力 | 10 | ___ |
| 测试 3：Supabase MCP | 10 | ___ |
| 测试 4：Context7 MCP | 10 | ___ |
| 测试 5：Puppeteer MCP | 10 | ___ |
| 测试 6：代码规范 | 15 | ___ |
| 测试 7：降级处理 | 10 | ___ |
| 测试 8：复杂任务 | 15 | ___ |
| **总计** | **95** | ___ |

## 评级

- 85-95：优秀 - 工作流高度可靠
- 70-84：良好 - 基本可用，有改进空间
- 55-69：及格 - 需要优化
- <55：不及格 - 需要重新设计
